<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Pihole Unbound Docker - Genzade</title>
    <link rel="stylesheet" href="https://genzade.github.io/assets/css/main.css">
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.svg" />
    <script src="https://genzade.github.io/assets/js/main.js" defer></script>
  </head>

  <body class="antialiased bg-slate-700 min-h-screen">
    <header
  class="before:bg-[rgba(0, 0, 0, 0.1)] fixed left-0 top-0 z-[100] flex h-24 w-full items-center p-5 text-white before:absolute before:left-0 before:top-0 before:z-[-1] before:h-full before:w-full before:backdrop-blur-[50px] md:justify-evenly lg:p-14"
>
  <a href="/" class="">
    <div class="m-0 h-24 w-24"><?xml version="1.0" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 20010904//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1200 1200" x="0px" y="0px">
  <circle cx="50%" cy="50%" r="520" stroke="black" stroke-width="60" fill="#00F603" />
  <g transform="translate(0.000000,1200.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
    <path d="M5878 8797 c-313 -161 -773 -555 -998 -855 -97 -129 -149 -226 -185 -347 -15 -49 -61 -182 -102 -295 -41 -113 -90 -257 -108 -320 -35 -122 -63 -266 -53 -275 3 -4 37 16 74 43 405 294 1131 573 1489 573 352 0 1044 -262 1473 -558 52 -35 96 -62 100 -59 18 19 -63 315 -158 576 -37 102 -83 235 -103 297 -61 190 -133 308 -303 503 -237 272 -635 595 -892 724 -96 48 -129 47 -234 -7z" />
    <path d="M5845 7144 c-184 -33 -410 -104 -641 -201 l-132 -55 15 -66 c35 -154 112 -319 204 -438 116 -151 346 -329 593 -459 l108 -58 71 34 c111 53 289 162 390 237 106 80 235 211 294 297 85 126 163 319 166 412 l2 47 -121 52 c-291 125 -627 215 -799 213 -38 0 -106 -7 -150 -15z" />
    <path d="M4841 6769 c-129 -70 -342 -217 -379 -261 -10 -13 27 -85 224 -428 129 -227 238 -419 241 -427 4 -11 -11 -13 -87 -11 l-93 3 -134 235 c-74 129 -138 239 -143 244 -12 12 -155 -49 -283 -121 -109 -61 -124 -78 -233 -257 l-61 -101 -1067 -5 -1067 -5 216 -312 c118 -172 215 -317 215 -323 0 -5 -94 -147 -210 -315 -116 -167 -210 -309 -210 -315 0 -7 253 -10 781 -10 740 0 781 -1 773 -17 -4 -10 -9 -68 -12 -129 -5 -126 16 -230 67 -339 81 -173 253 -335 432 -405 l46 -18 26 29 c24 28 29 29 106 29 l81 0 0 425 0 425 85 0 85 0 0 -425 0 -425 596 0 596 0 -53 48 c-62 56 -121 143 -150 224 -12 32 -24 58 -27 58 -2 0 -24 -18 -48 -40 -43 -40 -44 -40 -123 -40 -68 0 -82 -3 -90 -19 -17 -30 -78 -54 -127 -48 -122 13 -174 149 -93 242 56 64 140 70 203 15 26 -23 43 -30 76 -30 38 0 49 6 107 60 35 33 68 60 73 60 6 0 10 27 10 60 l0 60 -149 0 c-129 0 -152 -2 -167 -17 -35 -37 -70 -53 -112 -53 -86 0 -152 60 -152 138 0 45 27 107 54 124 6 4 50 8 97 8 73 0 89 -3 104 -20 17 -18 31 -20 172 -20 146 0 153 1 153 20 0 18 7 20 79 20 l79 0 4 -227 c4 -199 7 -235 25 -285 27 -72 46 -102 102 -161 58 -61 127 -103 290 -176 71 -32 152 -72 180 -90 l51 -31 57 37 c32 20 98 54 148 76 237 102 341 179 394 291 41 84 51 160 51 379 l0 187 80 0 c73 0 80 -2 80 -20 0 -19 7 -20 153 -20 141 0 155 2 172 20 15 17 31 20 105 20 82 0 88 -1 114 -29 20 -21 30 -43 33 -75 7 -57 -9 -97 -54 -136 -46 -41 -120 -42 -176 -5 -20 14 -37 30 -37 36 0 6 -57 8 -152 7 l-153 -3 -2 -55 -3 -55 71 -62 c67 -59 75 -63 121 -63 33 0 50 5 54 15 3 8 26 24 50 35 74 36 160 6 199 -71 45 -87 -33 -209 -133 -209 -36 0 -100 29 -121 54 -10 12 -32 16 -88 16 l-74 0 -48 45 -49 46 -12 -38 c-26 -79 -86 -179 -146 -240 l-62 -63 599 0 599 0 0 425 0 425 80 0 80 0 0 -424 0 -424 84 -3 c72 -3 88 -7 110 -28 l25 -24 57 23 c31 13 89 44 128 70 186 123 307 300 347 508 12 62 8 233 -6 279 l-7 23 785 2 786 3 -214 312 c-118 171 -215 316 -215 321 0 5 97 150 216 323 l215 314 -1068 3 -1068 2 -39 68 c-69 119 -148 232 -175 251 -44 31 -192 108 -278 145 l-82 35 -143 -250 -142 -249 -88 0 c-48 0 -88 2 -88 5 0 3 108 195 241 427 l240 423 -40 36 c-66 59 -213 160 -323 222 -56 31 -106 57 -110 57 -5 0 -8 -6 -8 -14 0 -32 -54 -197 -91 -275 -59 -127 -141 -242 -251 -354 l-99 -102 1 -212 1 -213 -80 0 -81 0 0 150 c0 83 -3 150 -6 150 -3 0 -50 -26 -103 -59 -154 -93 -325 -181 -354 -181 -32 0 -211 88 -350 172 -54 32 -105 62 -113 65 -12 4 -14 -18 -14 -146 l0 -151 -80 0 -80 0 0 212 0 211 -98 101 c-162 167 -254 318 -313 511 -17 55 -34 108 -37 117 -6 16 -15 13 -81 -23z m-1883 -1303 c103 -16 175 -46 240 -102 l43 -36 -3 -97 -3 -96 -105 0 -105 0 -3 43 c-4 56 -31 74 -125 80 -99 6 -149 -10 -208 -65 -55 -51 -79 -111 -79 -195 0 -163 83 -247 251 -256 105 -5 173 18 181 62 10 52 -8 60 -120 52 -71 -5 -102 -3 -107 5 -14 21 -18 135 -6 157 11 22 16 22 226 22 158 0 216 -3 221 -12 5 -7 7 -86 5 -177 -2 -147 -5 -167 -23 -192 -34 -46 -99 -85 -188 -114 -73 -24 -102 -28 -200 -28 -224 0 -362 74 -452 240 -58 106 -61 347 -6 463 32 67 124 152 211 195 64 31 147 52 252 64 6 0 52 -5 103 -13z m1236 -31 c10 -36 6 -256 -4 -276 -12 -21 -66 -25 -145 -11 -39 7 -40 9 -45 52 l-5 45 -120 -4 c-74 -2 -123 -8 -128 -15 -12 -17 0 -118 15 -127 7 -5 57 -9 111 -9 l98 0 -3 -97 -3 -98 -99 -2 c-123 -3 -131 -8 -121 -87 l7 -56 134 0 134 0 0 44 0 43 87 6 c51 4 92 2 97 -3 12 -12 16 -299 4 -306 -12 -7 -794 -5 -813 2 -18 7 -21 136 -5 179 9 23 13 25 46 19 26 -5 39 -3 45 7 14 22 11 493 -3 507 -7 7 -29 12 -49 12 -37 0 -37 0 -44 50 -4 28 -4 71 0 98 l6 47 399 0 c393 1 399 0 404 -20z m493 -7 c16 -18 45 -55 63 -83 18 -27 57 -77 86 -111 29 -33 70 -87 92 -120 53 -79 111 -140 121 -128 5 5 6 67 4 137 l-6 128 -41 -3 -41 -3 -3 94 c-2 60 1 98 9 107 9 11 50 14 199 14 103 0 202 -3 219 -6 l31 -6 0 -89 c0 -99 -7 -109 -74 -109 l-36 0 2 -351 c1 -293 -1 -352 -13 -360 -8 -5 -59 -9 -114 -9 l-100 0 -135 181 c-74 99 -154 204 -177 232 -24 28 -43 54 -43 59 0 4 -7 8 -15 8 -13 0 -15 -22 -15 -135 l0 -135 38 0 c60 0 63 -6 60 -111 l-3 -94 -230 0 -230 0 -3 88 c-3 104 3 117 56 110 25 -3 41 0 48 8 7 9 9 97 6 262 l-4 247 -44 0 c-33 0 -46 5 -54 19 -15 29 -13 178 3 184 6 3 80 6 163 6 l150 1 31 -32z m1621 17 c14 -14 2 -67 -25 -106 -16 -24 -46 -74 -66 -111 -20 -36 -96 -154 -167 -262 -72 -108 -128 -201 -125 -206 3 -6 46 -10 96 -10 l89 0 0 64 0 63 103 6 c56 3 105 2 110 -2 4 -4 6 -84 5 -177 l-3 -169 -400 0 -400 0 -3 35 c-3 32 20 71 198 344 127 193 199 313 196 323 -5 12 -18 14 -79 8 -39 -4 -73 -9 -75 -10 -2 -2 -6 -28 -9 -58 l-6 -55 -94 -7 c-52 -4 -98 -4 -103 1 -12 12 -13 38 -12 196 l2 137 103 4 c135 5 659 -2 665 -8z m833 8 c9 -2 23 -18 30 -36 7 -18 42 -93 79 -167 37 -74 95 -203 128 -287 84 -207 94 -223 142 -223 54 0 61 -14 58 -117 l-3 -88 -217 0 c-131 0 -221 4 -227 10 -6 6 -8 41 -4 87 5 67 8 77 26 80 30 4 43 32 31 65 l-9 28 -162 3 c-155 2 -163 2 -173 -18 -19 -36 -9 -64 25 -70 l30 -5 0 -90 0 -90 -225 0 -225 0 -5 89 c-6 104 1 116 60 116 l39 0 42 88 c123 260 170 365 175 392 6 28 5 30 -24 30 -60 0 -62 4 -62 104 0 51 3 95 6 99 7 7 439 7 465 0z m1229 -27 c118 -45 159 -76 229 -177 45 -65 61 -126 61 -240 0 -77 -5 -115 -24 -173 -35 -105 -49 -128 -109 -180 -123 -105 -219 -126 -577 -126 -142 0 -261 4 -264 8 -8 13 -10 181 -2 189 4 4 28 6 54 5 l47 -2 0 263 0 262 -40 1 c-22 0 -46 2 -52 2 -14 2 -19 183 -6 196 4 4 143 6 308 4 l300 -4 75 -28z m1174 9 c10 -36 6 -256 -4 -276 -12 -21 -66 -25 -145 -11 -39 7 -40 9 -45 52 l-5 45 -120 -4 c-74 -2 -123 -8 -128 -15 -12 -17 0 -118 15 -127 7 -5 57 -9 111 -9 l98 0 -3 -97 -3 -98 -99 -2 c-123 -3 -131 -8 -121 -87 l7 -56 134 0 134 0 0 44 0 43 87 6 c51 4 92 2 97 -3 12 -12 16 -299 4 -306 -12 -7 -794 -5 -813 2 -18 7 -21 136 -5 179 9 23 13 25 46 19 26 -5 39 -3 45 7 14 22 11 493 -3 507 -7 7 -29 12 -49 12 -37 0 -37 0 -44 50 -4 28 -4 71 0 98 l6 47 399 0 c393 1 399 0 404 -20z m-3154 -1311 c0 -221 -1 -239 -21 -274 -42 -74 -48 -75 -369 -75 -407 0 -390 -15 -390 344 l0 241 390 0 390 0 0 -236z" />
    <path d="M6983 5173 c-3 -10 -17 -42 -30 -72 -34 -78 -27 -91 53 -91 48 0 66 4 70 15 4 8 -6 49 -21 90 -21 57 -32 75 -47 75 -10 0 -21 -8 -25 -17z" />
    <path d="M8073 5242 l-32 -3 -3 -102 c-2 -56 -2 -166 0 -244 l3 -143 100 0 c117 0 150 11 201 68 36 40 51 76 64 159 10 67 -26 172 -76 217 -22 19 -50 38 -62 40 -31 7 -156 12 -195 8z" />
    <path d="M5770 4120 l0 -180 230 0 230 0 0 180 0 180 -230 0 -230 0 0 -180z m304 116 c40 -37 47 -80 21 -126 -8 -14 -14 -39 -15 -57 0 -19 -10 -43 -23 -59 -47 -55 -137 -19 -137 55 0 20 -7 45 -15 55 -8 11 -15 37 -15 59 0 31 7 46 34 73 48 48 100 48 150 0z" />
    <path d="M4022 3258 l3 -93 1969 -3 c1479 -1 1972 1 1983 10 10 8 13 32 11 92 l-3 81 -863 3 -864 2 -61 -29 c-34 -17 -86 -50 -115 -75 -70 -60 -94 -60 -164 -1 -29 25 -79 59 -112 75 l-59 30 -864 0 -864 0 3 -92z" />
  </g>
</svg>
</div>
  </a>

  <input type="checkbox" id="check" />

  <label for="check" class="icons absolute right-0 block cursor-pointer pr-4">
    <i id="menu-icon" class="visible md:hidden"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="60" height="60" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5"/>
</svg>
 </i>
    <i id="close-icon" class="md:hidden"> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" width="60" height="60" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
</svg>
 </i>
  </label>

  <nav
  class="navbar bg-[rgba(0, 0, 0, 0.1)] absolute left-0 top-full z-[100] h-0 w-screen overflow-hidden backdrop-blur-[50px] md:relative md:top-0 md:h-auto md:w-max md:backdrop-blur-[0px]"
>
  
  <a
    href="/"
    class="my-4 block px-20 md:m-2 md:inline-flex md:px-0 md:pl-1"
    style="--i:0"
    
  >
    <div class="flex items-center justify-center">
      <div class="inline-flex">
        <div class="h-8 w-8 self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
</svg>
</div>
        <span class="items-center py-5 pl-2 text-center text-lg font-extrabold md:text-2xl"> Home </span>
      </div>
    </div>
  </a>
  
  <a
    href="/about.html"
    class="my-4 block px-20 md:m-2 md:inline-flex md:px-0 md:pl-1"
    style="--i:1"
    
  >
    <div class="flex items-center justify-center">
      <div class="inline-flex">
        <div class="h-8 w-8 self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
</svg>
</div>
        <span class="items-center py-5 pl-2 text-center text-lg font-extrabold md:text-2xl"> About </span>
      </div>
    </div>
  </a>
  
  <a
    href="/blog.html"
    class="my-4 block px-20 md:m-2 md:inline-flex md:px-0 md:pl-1"
    style="--i:2"
    
  >
    <div class="flex items-center justify-center">
      <div class="inline-flex">
        <div class="h-8 w-8 self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" />
</svg>
</div>
        <span class="items-center py-5 pl-2 text-center text-lg font-extrabold md:text-2xl"> Blog </span>
      </div>
    </div>
  </a>
  
  <a
    href="https://github.com/genzade/genzade.github.io"
    class="my-4 block px-20 md:m-2 md:inline-flex md:px-0 md:pl-1"
    style="--i:3"
    
      target="_blank"
    
  >
    <div class="flex items-center justify-center">
      <div class="inline-flex">
        <div class="h-8 w-8 self-center"><svg xmlns="http://www.w3.org/2000/svg" class="w-[18px] h-[18px]" viewBox="0 0 98 96">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#fff"/>
</svg>
</div>
        <span class="items-center py-5 pl-2 text-center text-lg font-extrabold md:text-2xl"> Github </span>
      </div>
    </div>
  </a>
  
</nav>

</header>


    <div class="px-4 my-28">
      <div class="max-w-5xl bg-slate-900 rounded-lg mx-auto my-16 p-6">
        <h1 class="text-5xl font-extrabold text-center pt-10">Pihole Unbound Docker</h1>

        <div class="mt-6">
          <article class="prose my-6 max-w-none break-words px-2 md:prose-lg lg:prose-xl md:pt-24">
  <div class="mx-auto mt-16">
    <div class="flex justify-between">
      <p class="text-sm">

3 minutes to read

</p>
      <p class="text-sm">13 Nov 2023</p>
    </div>

    <div class="md:grid md:grid-cols-9 md:gap-2">
      <section class="sm:col-span-7"><h1 id="introduction">
<a class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>In this article you will learn all the steps needed to setup pihole with unbound
with docker. Even though I set this up with a raspberry pi, you can run this anywhere.
That’s the beauty of docker containerization.</p>

<h2 id="prerequisites">
<a class="anchor" href="#prerequisites" aria-hidden="true"><span class="octicon octicon-link"></span></a>Prerequisites</h2>

<p>First and foremost you need to <a href="https://projects.raspberrypi.org/en/projects/raspberry-pi-setting-up/2" target="\_blank">setup your raspberry pi</a>.</p>

<p>Once that is setup you will need remote access and <a href="https://www.raspberrypi.com/documentation/computers/remote-access.html" target="\_blank">here is a detailed guide</a>
on how you can achieve this.</p>

<p>Make sure the above steps were done correctly before continuing. Once you have
established a ssh connection to the pi you will need to install docker and docker
compose.</p>

<p>Before coninuing</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get update
<span class="nv">$ </span><span class="nb">sudo </span>apt-get upgrade
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">docker</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>curl <span class="nt">-sSL</span> https://get.docker.com | sh
<span class="nv">$ </span><span class="nb">sudo </span>usermod <span class="nt">-aG</span> docker <span class="nv">$USER</span>
</code></pre></div></div>

<p>See <a href="https://raspberrytips.com/docker-on-raspberry-pi/" target="\_blank">this article</a> for detailed
explanation.</p>

<p><code class="language-plaintext highlighter-rouge">docker compose</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt-get update
<span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>docker-compose-plugin
</code></pre></div></div>

<p>First create a <code class="language-plaintext highlighter-rouge">.env</code> file to substitute variables for your deployment.</p>

<h1 id="pi-hole-environment-variables">
<a class="anchor" href="#pi-hole-environment-variables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Pi-hole environment variables</h1>

<blockquote>
  <p>Vars and descriptions can be viewed in full from the <a href="https://github.com/pi-hole/docker-pi-hole/#environment-variables" target="\_blank">official pihole container</a>:</p>
</blockquote>

<p>Example <code class="language-plaintext highlighter-rouge">.env</code> file in the same directory as your <code class="language-plaintext highlighter-rouge">docker-compose.yaml</code> file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">FTLCONF_LOCAL_IPV4</span><span class="o">=</span>192.168.1.10
<span class="nv">TZ</span><span class="o">=</span>America/Los_Angeles
<span class="nv">WEBPASSWORD</span><span class="o">=</span>QWERTY123456asdfASDF
<span class="nv">REV_SERVER</span><span class="o">=</span><span class="nb">true
</span><span class="nv">REV_SERVER_DOMAIN</span><span class="o">=</span><span class="nb">local
</span><span class="nv">REV_SERVER_TARGET</span><span class="o">=</span>192.168.1.1
<span class="nv">REV_SERVER_CIDR</span><span class="o">=</span>192.168.0.0/16
<span class="nv">HOSTNAME</span><span class="o">=</span>pihole
<span class="nv">DOMAIN_NAME</span><span class="o">=</span>pihole.local
<span class="nv">PIHOLE_WEBPORT</span><span class="o">=</span>80
<span class="nv">WEBTHEME</span><span class="o">=</span>default-light
</code></pre></div></div>

<p>Copy the example file to a file called <code class="language-plaintext highlighter-rouge">.env</code>, do this with;</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cp</span> .env.sample .env
</code></pre></div></div>

<p>Change the values as nesessary.</p>

<h1 id="run-it">
<a class="anchor" href="#run-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Run it</h1>

<p>You run it with the following command.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker compose up <span class="nt">-d</span>
</code></pre></div></div>

<h1 id="test-it">
<a class="anchor" href="#test-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>Test it</h1>

<p>From inside your raspberry pi start a bash session in the docker container.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker <span class="nb">exec</span> <span class="nt">-it</span> pihole bash
</code></pre></div></div>

<p>And run the following;</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>dig fail01.dnssec.works @127.0.0.1 <span class="nt">-p</span> 5335 <span class="c"># this should fail (no response)</span>
<span class="nv">$ </span>dig dnssec.works @127.0.0.1 <span class="nt">-p</span> 5335        <span class="c"># this should work and return an IP address</span>
</code></pre></div></div>

<p>Read <a href="https://docs.pi-hole.net/guides/dns/unbound/" target="\_blank">this article</a> for a detailed
explanation of what is going on here.</p>

<p>If all is well update your router log into your router’s configuration page and
find the DHCP/DNS settings and set it so that your router is pointing to your
raspberry pi’s IP address. Note: make sure you adjust this setting under your
LAN settings and not the WAN.</p>

<p>Log into the admin dashboard of you pihole in a browser and you should start
seeing queries being blocked.</p>

<h1 id="github-repo">
<a class="anchor" href="#github-repo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Github repo</h1>

<p>You can check out all the source code for this setup <a href="https://github.com/genzade/pihole_unbound" target="\_blank">here</a>.</p>
</section>

      <div class="col-span-2 hidden h-full md:mt-0 md:inline">
        <aside class="sticky top-20 pl-0 pt-0">
          <nav class="toc sticky left-12 top-0 w-auto p-4 leading-loose">
            <header class="font-bold">Table of Contents</header>
            <div class="text-sm"><ul id="toc" class="section-nav">
<li class="toc-entry toc-h1"><a href="#introduction">Introduction</a>
<ul>
<li class="toc-entry toc-h2"><a href="#prerequisites">Prerequisites</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#pi-hole-environment-variables">Pi-hole environment variables</a></li>
<li class="toc-entry toc-h1"><a href="#run-it">Run it</a></li>
<li class="toc-entry toc-h1"><a href="#test-it">Test it</a></li>
<li class="toc-entry toc-h1"><a href="#github-repo">Github repo</a></li>
</ul></div>
            <svg class="toc-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg">
  <path stroke="#00F603" stroke-width="3" fill="transparent" stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" stroke-linejoin="round" transform="translate(-0.5, -0.5)" />
</svg>

          </nav>
        </aside>
      </div>
      <div class="grid justify-items-end gap-2"></div>
    </div>
  </div>
</article>

        </div>
      </div>
    </div>
  </body>
</html>
